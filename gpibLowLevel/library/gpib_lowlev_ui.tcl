# interface generated by SpecTcl version 1.0 from /home/fab/Tcl/gpib/main.ui
#   root     is the parent window for this user interface

# modif manuelle 2009-10-13 par FP (reset)

proc gpib_lowlev_ui {root args} {

	# this treats "." as a special case

	if {$root == "."} {
	    set base ""
	} else {
	    set base $root
	}
    
	frame $base.frame#9

	frame $base.frame_globals

	frame $base.frame_UnaddressedGeneralCommands \
		-borderwidth 8

	label $base.label#1 \
		-text {Commandes GPIB}

	button $base.button_GPIB_LLO \
		-command {GPIB::Command LLO} \
		-text LLO

	button $base.button_REN_On \
		-command GPIB::renOn \
		-text {REN On}

	button $base.button_REN_Off \
		-command GPIB::renOff \
		-text {REN Off}

	button $base.button_RESET_HS \
	    -command {exec xterm -e sudo /etc/init.d/gpib-phydis} \
		-text {RESET NI-USB-GPIB-HS}

	label $base.label_SRQ \
		-text {no SRQ} \
		-textvariable variable_SRQ

	button $base.button#43 \
		-command GPIB::Write \
		-padx 0 \
		-text Write \
		-width 10

	text $base.text_toGPIB \
		-height 1 \
		-width 1

	button $base.button_read_Line \
		-command GPIB::readLine \
		-padx 0 \
		-text {read Line} \
		-width 10

	text $base.text_fromGPIB \
		-height 1 \
		-width 1

	button $base.button_low_level \
		-command GPIB::lowLevel \
		-text {low level}

	button $base.button_device_level \
		-command GPIB::deviceLevel \
		-text {device level}

	button $base.button_trace_On \
		-command GPIB::traceOn \
		-text {trace On}

	button $base.button_trace_Off \
		-command GPIB::traceOff \
		-text {trace Off}

	button $base.button#49 \
	        -command "destroy $base" \
		-text Close


	# Geometry management

	grid $base.frame#9 -in $root	-row 4 -column 1 
	grid $base.frame_globals -in $root	-row 5 -column 1 
	grid $base.frame_UnaddressedGeneralCommands -in $root	-row 2 -column 1 
	grid $base.label#1 -in $root	-row 1 -column 1 
	grid $base.button_GPIB_LLO -in $base.frame_UnaddressedGeneralCommands	-row 1 -column 1 
	grid $base.button_REN_On -in $base.frame_UnaddressedGeneralCommands	-row 1 -column 2 
	grid $base.button_REN_Off -in $base.frame_UnaddressedGeneralCommands	-row 1 -column 3 
	grid $base.label_SRQ -in $base.frame_UnaddressedGeneralCommands	-row 1 -column 4 
	grid $base.button_RESET_HS -in $base.frame_UnaddressedGeneralCommands	-row 1 -column 5 
	grid $base.button#43 -in $base.frame#9	-row 1 -column 1  \
		-sticky n
	grid $base.text_toGPIB -in $base.frame#9	-row 1 -column 2  \
		-sticky nesw
	grid $base.button_read_Line -in $base.frame#9	-row 2 -column 1  \
		-sticky n
	grid $base.text_fromGPIB -in $base.frame#9	-row 2 -column 2  \
		-sticky nesw
	grid $base.button_low_level -in $base.frame_globals	-row 1 -column 1 
	grid $base.button_device_level -in $base.frame_globals	-row 1 -column 2 
	grid $base.button_trace_On -in $base.frame_globals	-row 1 -column 4 
	grid $base.button_trace_Off -in $base.frame_globals	-row 1 -column 5 
	grid $base.button#49 -in $base.frame_globals	-row 1 -column 6 

	# Resize behavior management

	grid rowconfigure $base.frame_globals 1 -weight 0 -minsize 30
	grid columnconfigure $base.frame_globals 1 -weight 0 -minsize 30
	grid columnconfigure $base.frame_globals 2 -weight 0 -minsize 30
	grid columnconfigure $base.frame_globals 3 -weight 0 -minsize 30
	grid columnconfigure $base.frame_globals 4 -weight 0 -minsize 30
	grid columnconfigure $base.frame_globals 5 -weight 0 -minsize 30
	grid columnconfigure $base.frame_globals 6 -weight 0 -minsize 30

	grid rowconfigure $root 1 -weight 0 -minsize 30
	grid rowconfigure $root 2 -weight 0 -minsize 30
	grid rowconfigure $root 3 -weight 0 -minsize 30
	grid rowconfigure $root 4 -weight 0 -minsize 30
	grid rowconfigure $root 5 -weight 0 -minsize 30
	grid columnconfigure $root 1 -weight 0 -minsize 30

	grid rowconfigure $base.frame_UnaddressedGeneralCommands 1 -weight 0 -minsize 30
	grid columnconfigure $base.frame_UnaddressedGeneralCommands 1 -weight 0 -minsize 30
	grid columnconfigure $base.frame_UnaddressedGeneralCommands 2 -weight 0 -minsize 30
	grid columnconfigure $base.frame_UnaddressedGeneralCommands 3 -weight 0 -minsize 30
	grid columnconfigure $base.frame_UnaddressedGeneralCommands 4 -weight 0 -minsize 30
	grid columnconfigure $base.frame_UnaddressedGeneralCommands 5 -weight 0 -minsize 30

	grid rowconfigure $base.frame#9 1 -weight 0 -minsize 55
	grid rowconfigure $base.frame#9 2 -weight 1 -minsize 80
	grid columnconfigure $base.frame#9 1 -weight 0 -minsize 30
	grid columnconfigure $base.frame#9 2 -weight 1 -minsize 493
# additional interface code
# end additional interface code

}


# Allow interface to be run "stand-alone" for testing

catch {
    if {$argv0 == [info script]} {
	wm title . "Testing main"
	gpib_lowlev_ui .
    }
}
